{"ast":null,"code":"import NativeEventEmitter from '../EventEmitter/NativeEventEmitter';\nimport Platform from '../Utilities/Platform';\nimport EventEmitter from '../vendor/emitter/EventEmitter';\nimport { isAsyncDebugging } from './DebugEnvironment';\nimport NativeAppearance from './NativeAppearance';\nimport invariant from 'invariant';\nconst eventEmitter = new EventEmitter();\nif (NativeAppearance) {\n  const nativeEventEmitter = new NativeEventEmitter(Platform.OS !== 'ios' ? null : NativeAppearance);\n  nativeEventEmitter.addListener('appearanceChanged', newAppearance => {\n    const {\n      colorScheme\n    } = newAppearance;\n    invariant(colorScheme === 'dark' || colorScheme === 'light' || colorScheme == null, \"Unrecognized color scheme. Did you mean 'dark' or 'light'?\");\n    eventEmitter.emit('change', {\n      colorScheme\n    });\n  });\n}\nmodule.exports = {\n  getColorScheme() {\n    if (__DEV__) {\n      if (isAsyncDebugging) {\n        return 'light';\n      }\n    }\n    const nativeColorScheme = NativeAppearance == null ? null : NativeAppearance.getColorScheme() || null;\n    invariant(nativeColorScheme === 'dark' || nativeColorScheme === 'light' || nativeColorScheme == null, \"Unrecognized color scheme. Did you mean 'dark' or 'light'?\");\n    return nativeColorScheme;\n  },\n  setColorScheme(colorScheme) {\n    const nativeColorScheme = colorScheme == null ? 'unspecified' : colorScheme;\n    invariant(colorScheme === 'dark' || colorScheme === 'light' || colorScheme == null, \"Unrecognized color scheme. Did you mean 'dark', 'light' or null?\");\n    if (NativeAppearance != null && NativeAppearance.setColorScheme != null) {\n      NativeAppearance.setColorScheme(nativeColorScheme);\n    }\n  },\n  addChangeListener(listener) {\n    return eventEmitter.addListener('change', listener);\n  }\n};","map":{"version":3,"names":["NativeEventEmitter","Platform","EventEmitter","isAsyncDebugging","NativeAppearance","invariant","eventEmitter","nativeEventEmitter","OS","addListener","newAppearance","colorScheme","emit","module","exports","getColorScheme","__DEV__","nativeColorScheme","setColorScheme","addChangeListener","listener"],"sources":["C:/dev_serratec/ReactNative/ReactNativeSerratec/individual-p1/node_modules/react-native/Libraries/Utilities/Appearance.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nimport NativeEventEmitter from '../EventEmitter/NativeEventEmitter';\nimport Platform from '../Utilities/Platform';\nimport EventEmitter, {\n  type EventSubscription,\n} from '../vendor/emitter/EventEmitter';\nimport {isAsyncDebugging} from './DebugEnvironment';\nimport NativeAppearance, {\n  type AppearancePreferences,\n  type ColorSchemeName,\n} from './NativeAppearance';\nimport invariant from 'invariant';\n\ntype AppearanceListener = (preferences: AppearancePreferences) => void;\nconst eventEmitter = new EventEmitter<{\n  change: [AppearancePreferences],\n}>();\n\ntype NativeAppearanceEventDefinitions = {\n  appearanceChanged: [AppearancePreferences],\n};\n\nif (NativeAppearance) {\n  const nativeEventEmitter =\n    new NativeEventEmitter<NativeAppearanceEventDefinitions>(\n      // T88715063: NativeEventEmitter only used this parameter on iOS. Now it uses it on all platforms, so this code was modified automatically to preserve its behavior\n      // If you want to use the native module on other platforms, please remove this condition and test its behavior\n      Platform.OS !== 'ios' ? null : NativeAppearance,\n    );\n  nativeEventEmitter.addListener(\n    'appearanceChanged',\n    (newAppearance: AppearancePreferences) => {\n      const {colorScheme} = newAppearance;\n      invariant(\n        colorScheme === 'dark' ||\n          colorScheme === 'light' ||\n          colorScheme == null,\n        \"Unrecognized color scheme. Did you mean 'dark' or 'light'?\",\n      );\n      eventEmitter.emit('change', {colorScheme});\n    },\n  );\n}\n\nmodule.exports = {\n  /**\n   * Note: Although color scheme is available immediately, it may change at any\n   * time. Any rendering logic or styles that depend on this should try to call\n   * this function on every render, rather than caching the value (for example,\n   * using inline styles rather than setting a value in a `StyleSheet`).\n   *\n   * Example: `const colorScheme = Appearance.getColorScheme();`\n   *\n   * @returns {?ColorSchemeName} Value for the color scheme preference.\n   */\n  getColorScheme(): ?ColorSchemeName {\n    if (__DEV__) {\n      if (isAsyncDebugging) {\n        // Hard code light theme when using the async debugger as\n        // sync calls aren't supported\n        return 'light';\n      }\n    }\n\n    // TODO: (hramos) T52919652 Use ?ColorSchemeName once codegen supports union\n    const nativeColorScheme: ?string =\n      NativeAppearance == null\n        ? null\n        : NativeAppearance.getColorScheme() || null;\n    invariant(\n      nativeColorScheme === 'dark' ||\n        nativeColorScheme === 'light' ||\n        nativeColorScheme == null,\n      \"Unrecognized color scheme. Did you mean 'dark' or 'light'?\",\n    );\n    return nativeColorScheme;\n  },\n\n  setColorScheme(colorScheme: ?ColorSchemeName): void {\n    const nativeColorScheme = colorScheme == null ? 'unspecified' : colorScheme;\n\n    invariant(\n      colorScheme === 'dark' || colorScheme === 'light' || colorScheme == null,\n      \"Unrecognized color scheme. Did you mean 'dark', 'light' or null?\",\n    );\n\n    if (NativeAppearance != null && NativeAppearance.setColorScheme != null) {\n      NativeAppearance.setColorScheme(nativeColorScheme);\n    }\n  },\n\n  /**\n   * Add an event handler that is fired when appearance preferences change.\n   */\n  addChangeListener(listener: AppearanceListener): EventSubscription {\n    return eventEmitter.addListener('change', listener);\n  },\n};\n"],"mappings":"AAUA,OAAOA,kBAAkB,MAAM,oCAAoC;AACnE,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,YAAY,MAEZ,gCAAgC;AACvC,SAAQC,gBAAgB,QAAO,oBAAoB;AACnD,OAAOC,gBAAgB,MAGhB,oBAAoB;AAC3B,OAAOC,SAAS,MAAM,WAAW;AAGjC,MAAMC,YAAY,GAAG,IAAIJ,YAAY,CAElC,CAAC;AAMJ,IAAIE,gBAAgB,EAAE;EACpB,MAAMG,kBAAkB,GACtB,IAAIP,kBAAkB,CAGpBC,QAAQ,CAACO,EAAE,KAAK,KAAK,GAAG,IAAI,GAAGJ,gBACjC,CAAC;EACHG,kBAAkB,CAACE,WAAW,CAC5B,mBAAmB,EAClBC,aAAoC,IAAK;IACxC,MAAM;MAACC;IAAW,CAAC,GAAGD,aAAa;IACnCL,SAAS,CACPM,WAAW,KAAK,MAAM,IACpBA,WAAW,KAAK,OAAO,IACvBA,WAAW,IAAI,IAAI,EACrB,4DACF,CAAC;IACDL,YAAY,CAACM,IAAI,CAAC,QAAQ,EAAE;MAACD;IAAW,CAAC,CAAC;EAC5C,CACF,CAAC;AACH;AAEAE,MAAM,CAACC,OAAO,GAAG;EAWfC,cAAcA,CAAA,EAAqB;IACjC,IAAIC,OAAO,EAAE;MACX,IAAIb,gBAAgB,EAAE;QAGpB,OAAO,OAAO;MAChB;IACF;IAGA,MAAMc,iBAA0B,GAC9Bb,gBAAgB,IAAI,IAAI,GACpB,IAAI,GACJA,gBAAgB,CAACW,cAAc,CAAC,CAAC,IAAI,IAAI;IAC/CV,SAAS,CACPY,iBAAiB,KAAK,MAAM,IAC1BA,iBAAiB,KAAK,OAAO,IAC7BA,iBAAiB,IAAI,IAAI,EAC3B,4DACF,CAAC;IACD,OAAOA,iBAAiB;EAC1B,CAAC;EAEDC,cAAcA,CAACP,WAA6B,EAAQ;IAClD,MAAMM,iBAAiB,GAAGN,WAAW,IAAI,IAAI,GAAG,aAAa,GAAGA,WAAW;IAE3EN,SAAS,CACPM,WAAW,KAAK,MAAM,IAAIA,WAAW,KAAK,OAAO,IAAIA,WAAW,IAAI,IAAI,EACxE,kEACF,CAAC;IAED,IAAIP,gBAAgB,IAAI,IAAI,IAAIA,gBAAgB,CAACc,cAAc,IAAI,IAAI,EAAE;MACvEd,gBAAgB,CAACc,cAAc,CAACD,iBAAiB,CAAC;IACpD;EACF,CAAC;EAKDE,iBAAiBA,CAACC,QAA4B,EAAqB;IACjE,OAAOd,YAAY,CAACG,WAAW,CAAC,QAAQ,EAAEW,QAAQ,CAAC;EACrD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}